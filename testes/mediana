; ler 5 numeros
READ R0
STORE R0 N1
READ R0
STORE R0 N2
READ R0
STORE R0 N3
READ R0
STORE R0 N4
READ R0
STORE R0 N5

; calcular quantidade de numeros menores do que cada um dos numeros
LOAD R0 N1
CALL CONTAMENORES

LOAD R0 N2
CALL CONTAMENORES

LOAD R0 N3
CALL CONTAMENORES

LOAD R0 N4
CALL CONTAMENORES

LOAD R0 N5
CALL CONTAMENORES
HALT

; subrotina conta numeros menores que R0 e verifica se eh mediana (se existirem 2 numeros menores)
CONTAMENORES: LOAD R2 ZERO
LOAD R3 UM

LOAD R1 N1
CMP R1 R0
JNN TESTAR2
ADD R2 R3

TESTAR2: LOAD R1 N2
CMP R1 R0
JNN TESTAR3
ADD R2 R3

TESTAR3: LOAD R1 N3
CMP R1 R0
JNN TESTAR4
ADD R2 R3

TESTAR4: LOAD R1 N4
CMP R1 R0
JNN TESTAR5
ADD R2 R3

TESTAR5: LOAD R1 N5
CMP R1 R0
JNN VERIFICA
ADD R2 R3

VERIFICA: LOAD R3 DOIS
CMP R2 R3
JNZ FIM
WRITE R0
FIM: RET

; declarar variaveis
N1: WORD 0
N2: WORD 0
N3: WORD 0
N4: WORD 0
N5: WORD 0
ZERO: WORD 0
UM: WORD 1
DOIS: WORD 2
END